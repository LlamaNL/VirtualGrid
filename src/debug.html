
<!DOCTYPE html>
<html>
	<head>
		<title>Sfx Grid</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="grid.css" />
		<style>
			.page { padding: 30px;  font-family: sans-serif; color: #333; font-size: 14px; }
		</style>
	</head>
	<body>	
		<div class="page">
			<h1>Basic Example</h1>
			<div><input type="text" id="myInput" onkeyup="filterValues()" placeholder="Search..."></div>
			<div id="grid1" style="height:400px;width:700px"></div>
		</div>	

		<script src="s.js"></script>
		<script src="s.grid.js"></script>
		<script src="s.grid.builder.js"></script>
		<script src="s.grid.focus.js"></script>
		<script src="s.grid.edit.js"></script>
		<script src="s.grid.keyEvents.js"></script>
		<script src="s.grid.mouseEvents.js"></script>

		<script type='text/javascript'>

			var columns = [ 
				{ text: 'A', width: 150 }, 
				{ text: 'B', width: 250 }, 
				{ text: 'C', width: 250 }
			];

			var grid = new S.grid("grid1");
			grid.columns = columns;
			var storedvalues = createValues(500);
			grid.values = storedvalues;
			grid.reload();

			function createValues(count) {
				var values = [];
				for (var i = 0; i < count; i++) {
					var row = [];
					values.push(row);
					for (var k = 0; k < 3; k++) {
						row.push("hola " + Math.floor(Math.random() * count));
					}
				}
				return values;
			}	
			
			function filterValues(){
				var values = storedvalues;
				var newvalues = [];
				for (var i = 0; i < values.length; i++){
					words = values[i];
					var hit = false;
					words.forEach(function(element) {
					  if (element.indexOf(document.getElementById('myInput').value) > -1){
						hit = true;
					  }
					});
					if (hit){
						newvalues.push(words);
					}
				}
				grid.values = newvalues;
				grid.reload();
				document.getElementById('myInput').focus();
			}

			grid.onCellChanged = function(newValue, oldValue, cell) {
				console.log(
					"Cell", cell.rowIndex, cell.columnIndex, 
					"Previous Value:", oldValue,
					"New:", newValue);
			}
		</script>
	</body>
</html>
