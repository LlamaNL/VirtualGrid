
<!DOCTYPE html>
<html>
	<head>
		<title>Sfx Grid</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="grid.css" />
		<style>
			.page { padding: 30px;  font-family: sans-serif; color: #333; font-size: 14px; }
		</style>
	</head>
	<body>	
		<div class="page">
			<h1>Basic Example</h1>
			<div><input type="text" id="myInput" onkeyup="filterValues()" placeholder="Search..."></div>
			</br>
			<div id="grid1" style="height:400px;width:800px"></div>
			</br>
			<div class="margin">
					<input type="button" value="250 rows" onclick="setModel(250)" />
					<input type="button" value="2,500 rows" onclick="setModel(2500)" />
					<input type="button" value="25,000 rows" onclick="setModel(25000)" />
					<input type="button" value="250,000 rows" onclick="setModel(250000)" />
					<input type="button" value="1,000,000 rows" onclick="setModel(1000000)" />
			</div>
		</div>	

		<script src="s.js"></script>
		<script src="s.grid.js"></script>
		<script src="s.grid.builder.js"></script>
		<script src="s.grid.focus.js"></script>
		<script src="s.grid.edit.js"></script>
		<script src="s.grid.keyEvents.js"></script>
		<script src="s.grid.mouseEvents.js"></script>

		<script type='text/javascript'>

			var columns = [ 
				{ text: 'A', width: 150 }, 
				{ text: 'B', width: 250 }, 
				{ text: 'C', width: 250 }
			];

			var grid = new S.grid("grid1");
			grid.columns = columns;
			var storedvalues = [];
			setModel(500);

			function createValues(count) {
				var values = [];
				for (var i = 0; i < count; i++) {
					var row = [];
					values.push(row);
					for (var k = 0; k < 3; k++) {
						row.push(Math.floor(Math.random() * count));
					}
				}
				return values;
			}	
			
			function setModel(count){
				var temp = createValues(count);
				storevalues = temp;
				grid.values = temp;
				grid.reload();
			}

			function filterValues(){
				grid.values = storevalues.filter(x => x.some(y => y.toString().indexOf(document.getElementById('myInput').value) > -1 ));
				grid.reload();
				// set focus back to inputbox because reload steals focus
				document.getElementById('myInput').focus();
			}
			
			grid.onCellChanged = function(newValue, oldValue, cell) {
				console.log(
					"Cell", cell.rowIndex, cell.columnIndex, 
					"Previous Value:", oldValue,
					"New:", newValue);
			}
		</script>
	</body>
</html>
